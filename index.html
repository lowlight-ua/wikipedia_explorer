<!DOCTYPE html>
<html>
<head>
<style>
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>

function onGetResultLinks(data)
{
    const dqp = data.query.pages;
    const links = dqp[Object.keys(dqp)[0]].links;
    const titles = links.map(x => x.title);
    $("#json_out").text(JSON.stringify(titles, null, 2));
}

function onGetResultBacklinks(data)
{
    const dqp = data.query.pages;
    const linkshere = dqp[Object.keys(dqp)[0]].linkshere;
    const titles = linkshere.map(x => x.title);
    $("#json_out").text(JSON.stringify(titles, null, 2));
}

function onGoClick()
{
    // $.ajax( {
    //     url: 'https://en.wikipedia.org/w/api.php',
    //     data: {
    //         action: 'query',
    //         prop: 'links',
    //         format: 'json',
    //         titles: $("#pagetitle").val(),
    //         origin: '*',
    //         pllimit: 'max'
    //     },
    //     xhrFields: {
    //         withCredentials: false
    //     },
    //     dataType: 'json'
    // } ).done(onGetResultLinks);

    $.ajax( {
        url: 'https://en.wikipedia.org/w/api.php',
        data: {
            action: 'query',
            prop: 'linkshere',
            titles: $("#pagetitle").val(),
            format: 'json',
            origin: '*',
            lhlimit: 'max'
        },
        xhrFields: {
            withCredentials: false
        },
        dataType: 'json'
    } ).done(onGetResultBacklinks);    
}

$(document).ready(function()
{    
    $("#gobutton").click(onGoClick);
});

</script>

</head>

<body>

<input type="text" id="pagetitle"><br>
<input type="button" id="gobutton" value="GO">

<div id="output">
    <pre id="json_out">
        NOTHING HERE
    </pre>
</div>

</body>

</html>
